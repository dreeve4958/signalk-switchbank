<?xml version="1.0"?>
<nmeacontroller>

	<!-- PGNs which the controller should process and their process interval. -->
	<pgn pgn="127501" contentlength="8" processinterval="0"/>
	<pgn pgn="127505" contentlength="7" processinterval="60"/>

	<!-- System architecture -->
	<system>
		<bus id="00" comment="Domestic bus">
			<switchbank instance="00" comment="Switch input module at helm">
				<channel id="00" comment="Immersion heater (1kW)"/>
				<channel id="01" comment="Immersion heater (2kW)"/>
				<channel id="02" comment="Chiller"/>
				<channel id="03" comment="Boiler"/>
				<channel id="04" comment="Thermal store"/>
				<channel id="05" comment="Hot water loop"/>
				<channel id="06" comment="Hydrophore"/>
				<channel id="07" comment="Work lights"/>
				<channel id="08" comment="Anchor light"/>
				<channel id="09" comment="Navigation lights"/>
				<channel id="0A" comment="Discharge pump (AUTO)"/>
				<channel id="0B" comment="Discharge pump (ON)"/>
				<channel id="0C" comment="Flush waste tank"/>
				<channel id="0D" comment="Call for HW"/>
				<channel id="0E" comment="Call for CH"/>
				<channel id="0F" comment="Propane gas"/>
            </switchbank>
			<switchbank instance="0A" comment="Relay output module in engine room">
				<channel id="00" comment="Hydrophore"/>
				<channel id="01" comment="Thermal store"/>
				<channel id="02" comment="Boiler"/>
				<channel id="03" comment="Chiller"/>
				<channel id="04" comment="Immersion heater (2kW)"/>
				<channel id="05" comment="Immersion heater (1kW)"/>
				<channel id="06" comment="Call for CH"/>
				<channel id="07" comment="Call for HW"/>
            </switchbank>
			<switchbank instance="0F" comment="Relay output module in master cabin">
				<channel id="00" comment="Discharge pump"/>
				<channel id="01" comment="Steaming light"/>
				<channel id="02" comment="Anchor light"/>
				<channel id="03" comment="Work lights"/>
				<channel id="04" comment="Propane isolator"/>
				<channel id="05" comment="(unused)"/>
				<channel id="06" comment="(unused)"/>
				<channel id="07" comment="(unused)"/>
            </switchbank>
		</bus>
		<bus id="01" comment="Navigation bus">
			<switchbank instance="10" comment="Switch input module at helm">
				<channel id="00" comment="Troll valve"/>
				<channel id="01" comment="Engine room ventilator (AUTO)"/>
				<channel id="02" comment="Engine room ventilator(ON)"/>
				<channel id="03" comment="Main bilge ventilator (AUTO)"/>
				<channel id="04" comment="Main bilge ventilator (ON)"/>
				<channel id="05" comment="Anchor (UP)"/>
				<channel id="06" comment="Anchor (DOWN)"/>
				<channel id="07" comment="Mast (UP)"/>
				<channel id="08" comment="Mast (DOWN)"/>
				<channel id="09" comment="Bow thrust (PORT)"/>
				<channel id="0A" comment="Bow thrust (STARBOARD)"/>
				<channel id="0B" comment="Fore-locker hatch (OPEN)"/>
				<channel id="0C" comment="Fore-locker hatch (CLOSE)"/>
				<channel id="0D" comment=""/>
				<channel id="0E" comment=""/>
				<channel id="0F" comment=""/>
            </switchbank>
			<switchbank instance="1A" comment="Relay output module in engine room">
				<channel id="00" comment="Troll valve"/>
				<channel id="01" comment="Stern light"/>
				<channel id="02" comment="Load sense (LOW)"/>
				<channel id="03" comment="Load sense (HIGH)"/>
				<channel id="04" comment="Engine room ventilator (AUTO)"/>
				<channel id="05" comment="Engine room ventilator (ON)"/>
				<channel id="06" comment="(unused)"/>
				<channel id="07" comment="(unused)"/>
            </switchbank>
			<switchbank instance="1F" comment="Relay output module in master cabin">
				<channel id="00" comment="Fore-locker hatch (OPEN)"/>
				<channel id="01" comment="Fore-locker hatch (CLOSE)"/>
				<channel id="02" comment="Mast (UP)"/>
				<channel id="03" comment="Mast (DOWN)"/>
				<channel id="04" comment="Anchor (UP)"/>
				<channel id="05" comment="Anchor (DOWN)"/>
				<channel id="06" comment="Bow-thrust (STARBOARD)"/>
				<channel id="07" comment="Bow-thrust (PORT)"/>
            </switchbank>
		</bus>
	</system>

 <!-- switch INPUT MODULE 0x00 -->
	<rule definition="switch,0:0,10:5" comment="SWITCH: Immersion 2kW:"/>
	<rule definition="switch,0:1,10:4" comment="SWITCH: Immersion 1kW:"/>
	<rule definition="switch,0:2,10:3" comment="SWITCH: Chiller:"/>
	<rule definition="switch,0:3,10:2" comment="SWITCH: Boiler:"/>
	<rule definition="switch,0:4,10:1" comment="SWITCH: Thermal store:"/>
	<rule definition="switch,0:6,10:0" comment="SWITCH: Hydrophore:"/>
	<rule definition="switch,0:7,15:3" comment="SWITCH: Work lights:"/>
	<rule definition="switch,0:8,15:2" comment="SWITCH: Anchor light:"/>
	<rule definition="switch,0:9,15:1" comment="SWITCH: Navigation lights (steaming light):"/>
	<rule definition="switch,0:9,26:1" comment="SWITCH: Navigation lights (stern light):"/>
   <!-- <rule definition="switch,0:10,15:0" comment="SWITCH: Blackwater pump: AUTOMATIC"/> -->
	<rule definition="switch,0:11,15:0" comment="SWITCH: Blackwater pump: ON"/>
   <!-- <rule definition="switch,0:12,15:1" comment="SWITCH: Blackwater flush:"/> -->
	<rule definition="switch,0:13,10:7" comment="SWITCH: Call for HW:"/>
	<rule definition="switch,0:14,10:6" comment="SWITCH: Call for CH:"/>
	<rule definition="switch,0:15,15:4" comment="SWITCH: Propane isolator:"/>

 <!-- switch INPUT MODULE 0x10 -->

	<rule definition="switch,16:0,26:0" comment="SWITCH: Troll:"/>
        <rule definition="switch,16:1,26:4" comment="SWITCH: Engine room ventilator AUTO:"/>
	<rule definition="switch,16:2,26:5" comment="SWITCH: Engine room ventilator ON:"/>
	<rule definition="switch,16:5,31:4" comment="SWITCH: Anchor UP:"/>
	<rule definition="switch,16:6,31:5" comment="SWITCH: Anchor DOWN:"/>
	<rule definition="switch,16:7,31:2" comment="SWITCH: Mast UP:"/>
	<rule definition="switch,16:8,31:3" comment="SWITCH: Mast DOWN:"/>
	<rule definition="switch,16:9,31:7" comment="SWITCH: Bow thrust PORT:"/>
	<rule definition="switch,16:10,31:6" comment="SWITCH: Bow thrust STARBOARD:"/>
	<rule definition="switch,16:11,31:0" comment="SWITCH: Fore-locker OPEN:"/>
	<rule definition="switch,16:12,31:1" comment="SWITCH: Fore-locker CLOSE:"/>

	<rule definition="switch,16:5|6|7|8|11|12,26:2" comment="Load sense low"/>
	<rule definition="switch,16:9|10,26:3" comment="Load sense high"/>
	
<!-- alarms -->

	<rule definition="tankhi,0,85,00317786528092" comment=""/>
</nmeacontroller>
